sum(irate(http_requests_total{app="$container", handler!="prometheus", kubernetes_namespace="$namespace"}[30s])) by (kubernetes_namespace,app,code)
sum(irate(nginx_http_requests_total{app="$container", kubernetes_namespace="$namespace"}[30s])) by (kubernetes_namespace,app,status)
sum(irate(haproxy_backend_http_responses_total{app="$container", kubernetes_namespace="$namespace"}[30s])) by (app,kubernetes_namespace,code)
sum(irate(haproxy_backend_http_responses_total{app="$container", kubernetes_namespace="$namespace",code="5xx"}[30s])) by (app,kubernetes_namespace) / sum(irate(haproxy_backend_http_responses_total{app="$container", kubernetes_namespace="$namespace"}[30s])) by (app,kubernetes_namespace)
sum(irate(http_requests_total{app="$container", handler!="prometheus", kubernetes_namespace="$namespace", code=~"5[0-9]+"}[30s])) by (kubernetes_namespace,app) / sum(irate(http_requests_total{app="$container", handler!="prometheus", kubernetes_namespace="$namespace"}[30s])) by (kubernetes_namespace,app)
sum(irate(nginx_http_requests_total{app="$container", kubernetes_namespace="$namespace", status=~"5[0-9]+"}[30s])) by (kubernetes_namespace,app) / sum(irate(nginx_http_requests_total{app="$container", kubernetes_namespace="$namespace"}[30s])) by (kubernetes_namespace,app)
histogram_quantile(0.99, sum(rate(http_request_duration_seconds_bucket{app="$container", kubernetes_namespace="$namespace"}[30s])) by (app,kubernetes_namespace,le))
histogram_quantile(0.90, sum(rate(http_request_duration_seconds_bucket{app="$container", kubernetes_namespace="$namespace"}[30s])) by (app,kubernetes_namespace,le))
histogram_quantile(0.5, sum(rate(http_request_duration_seconds_bucket{app="$container", kubernetes_namespace="$namespace"}[30s])) by (app,kubernetes_namespace,le))
histogram_quantile(0.99, sum(rate(nginx_http_request_duration_seconds_bucket{app="$container", kubernetes_namespace="$namespace"}[30s])) by (app,kubernetes_namespace,le))
histogram_quantile(0.9, sum(rate(nginx_http_request_duration_seconds_bucket{app="$container", kubernetes_namespace="$namespace"}[30s])) by (app,kubernetes_namespace,le))
histogram_quantile(0.5, sum(rate(nginx_http_request_duration_seconds_bucket{app="$container", kubernetes_namespace="$namespace"}[30s])) by (app,kubernetes_namespace,le))
count(count(container_memory_usage_bytes{container_name="$container", namespace="$namespace"}) by (pod_name))
count(count(container_memory_usage_bytes{container_name="$container", namespace="$namespace"}) by (kubernetes_io_hostname))
sum(irate(container_cpu_system_seconds_total{container_name="$container", namespace="$namespace"}[30s])) by (namespace,container_name) / sum(container_spec_cpu_shares{container_name="$container", namespace="$namespace"} / 1024) by (namespace,container_name)
sum(irate(container_cpu_user_seconds_total{container_name="$container", namespace="$namespace"}[30s])) by (namespace,container_name) / sum(container_spec_cpu_shares{container_name="$container", namespace="$namespace"} / 1024) by (namespace,container_name)
sum(irate(container_cpu_usage_seconds_total{container_name="$container", namespace="$namespace"}[30s])) by (namespace,container_name) / sum(container_spec_cpu_quota{container_name="$container", namespace="$namespace"} / container_spec_cpu_period{container_name="$container", namespace="$namespace"}) by (namespace,container_name)
sum(container_memory_usage_bytes{container_name="$container", namespace="$namespace"}) by (namespace,container_name) / sum(container_spec_memory_limit_bytes{container_name="$container", namespace="$namespace"}) by (namespace,container_name)
sum(irate(container_cpu_usage_seconds_total{container_name="$container", namespace="$namespace"}[30s])) by (id,pod_name)
sum(container_spec_cpu_quota{container_name="$container", namespace="$namespace"} / container_spec_cpu_period{container_name="$container", namespace="$namespace"}) by (namespace,container_name) / count(container_memory_usage_bytes{container_name="$container", namespace="$namespace"}) by (namespace,container_name) 
sum(container_spec_cpu_shares{container_name="$container", namespace="$namespace"} / 1024) by (namespace,container_name) / count(container_spec_cpu_shares{container_name="$container", namespace="$namespace"}) by (namespace,container_name) 
sum(container_memory_usage_bytes{container_name="$container", namespace="$namespace"}) by (id,pod_name)
sum(container_spec_memory_limit_bytes{container_name="$container", namespace="$namespace"}) by (namespace,container_name) / count(container_memory_usage_bytes{container_name="$container", namespace="$namespace"}) by (container_name,namespace)
sum(irate(container_cpu_usage_seconds_total{container_name="$container", namespace="$namespace"}[30s])) by (namespace,container_name) / count(container_memory_usage_bytes{container_name="$container", namespace="$namespace"}) by (namespace,container_name) 
sum(container_spec_cpu_quota{container_name="$container", namespace="$namespace"} / container_spec_cpu_period{container_name="$container", namespace="$namespace"}) by (namespace,container_name) / count(container_memory_usage_bytes{container_name="$container", namespace="$namespace"}) by (namespace,container_name) 
sum(container_spec_cpu_shares{container_name="$container", namespace="$namespace"} / 1024) by (namespace,container_name) / count(container_spec_cpu_shares{container_name="$container", namespace="$namespace"}) by (namespace,container_name) 
sum(container_memory_usage_bytes{container_name="$container", namespace="$namespace"}) by (namespace,container_name) / count(container_memory_usage_bytes{container_name="$container", namespace="$namespace"}) by (namespace,container_name) 
sum(container_spec_memory_limit_bytes{container_name="$container", namespace="$namespace"}) by (namespace,container_name) / count(container_memory_usage_bytes{container_name="$container", namespace="$namespace"}) by (namespace,container_name) 
sum(irate(container_cpu_usage_seconds_total{container_name="$container", namespace="$namespace"}[30s])) by (namespace,container_name)
sum(container_spec_cpu_quota{container_name="$container", namespace="$namespace"} / container_spec_cpu_period{container_name="$container", namespace="$namespace"}) by (namespace,container_name)
sum(container_spec_cpu_shares{container_name="$container", namespace="$namespace"} / 1024) by (namespace,container_name) 
sum(container_memory_usage_bytes{container_name="$container", namespace="$namespace"}) by (namespace,container_name)
sum(container_spec_memory_limit_bytes{container_name="$container", namespace="$namespace"}) by (namespace,container_name)
